<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>main_events</name>
    <events>
        <variable comment="Guarda a quantidade de acertos" constant="0" name="number_acertos" sid="792158276398595" static="0" type="number">0</variable>
        <variable comment="GUarda a quantidade de questões no banco " constant="1" name="number_quantidade_fixa_questoes" sid="363682282865544" static="0" type="number">3</variable>
        <variable comment="Guarda o número da questão atual" constant="0" name="number_questao_atual" sid="764372682975770" static="0" type="number">1</variable>
        <variable comment="Guarda o valor (em pontos) de cada questão" constant="0" name="number_valor_questao" sid="217949242879373" static="0" type="number">10</variable>
        <variable comment="Guarda a pontuação do player atual" constant="0" name="number_pontuacao" sid="864645461314145" static="0" type="number">0</variable>
        <variable comment="Guarda a quantidade de partidas completadas" constant="0" name="number_quantidade_partidas" sid="278528031398075" static="0" type="number">0</variable>
        <variable comment="Guarda a resposta da pergunta atual" constant="0" name="text_resposta_atual" sid="293674312418239" static="0" type="text"></variable>
        <variable comment="Guarda um número aleatório" constant="0" name="number_valor_aleatorio" sid="929924624816861" static="0" type="number">0</variable>
        <variable comment="Guarda a quantidade de questões no banco na rodada" constant="0" name="number_quantidade_questoes_rodada" sid="548830552442516" static="0" type="number">3</variable>
        <event-group description="" sid="236584356558392" title="Inicia Jogo">
            <sub-events>
                <event-block sid="349432307593676">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="270354551733884" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="726498895184101" type="Function">
                            <param id="0" name="Name">&quot;carregaQuestoes&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="945197412327779">
                    <conditions>
                        <condition id="0" name="On function" sid="171786694328824" type="Function">
                            <param id="0" name="Name">&quot;carregaQuestoes&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Request project file" sid="437846232733359" type="AJAX">
                            <param id="0" name="Tag">&quot;carregaQuestoes&quot;</param>
                            <param id="1" name="File">Perguntas.txt</param>
                        </action>
                        <action id="1" name="Set size" sid="936581015072005" type="array_questoes">
                            <param id="0" name="Width">NUMBER_QUANTIDADE_FIXA_QUESTOES</param>
                            <param id="1" name="Height">1</param>
                            <param id="2" name="Depth">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Aqui serão preenchidos os elementos na tela com as questões do arquivo lido</comment>
                <event-block sid="707623847261767">
                    <conditions>
                        <condition id="0" name="On function" sid="836391033776797" type="Function">
                            <param id="0" name="Name">&quot;pegaQuestaoAleatoria&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="681700098919149" type="System">
                            <param id="0" name="Variable">number_valor_aleatorio</param>
                            <param id="1" name="Value">round(random(0, number_quantidade_questoes_rodada-1))</param>
                        </action>
                        <action id="0" name="Set text" sid="245365489266121" type="text_questao">
                            <param id="0" name="Text">tokenat(array_questoes.At(number_valor_aleatorio), 0, &quot;;&quot;)</param>
                        </action>
                        <action id="0" name="Set text" sid="229558711981269" type="text_alternativa1">
                            <param id="0" name="Text">tokenat(array_questoes.At(number_valor_aleatorio), 1, &quot;;&quot;)</param>
                        </action>
                        <action id="0" name="Set text" sid="595438822802477" type="text_alternativa2">
                            <param id="0" name="Text">tokenat(array_questoes.At(number_valor_aleatorio), 2, &quot;;&quot;)</param>
                        </action>
                        <action id="0" name="Set text" sid="764190763915566" type="text_alternativa3">
                            <param id="0" name="Text">tokenat(array_questoes.At(number_valor_aleatorio), 3, &quot;;&quot;)</param>
                        </action>
                        <action id="-9" name="Set value" sid="942140408610815" type="System">
                            <param id="0" name="Variable">text_resposta_atual</param>
                            <param id="1" name="Value">tokenat(array_questoes.At(number_valor_aleatorio), 4, &quot;;&quot;)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="722682270611053">
                    <conditions>
                        <condition id="0" name="On completed" sid="224216833698057" type="AJAX">
                            <param id="0" name="Tag">&quot;carregaQuestoes&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable comment="contador" constant="0" name="i" sid="492659158497851" static="0" type="number">0</variable>
                        <event-block sid="209399720514028">
                            <conditions>
                                <condition id="-10" name="For" sid="367242331608176" type="System">
                                    <param id="0" name="Name">&quot;Para cada questao colocar&quot;</param>
                                    <param id="1" name="Start index">0</param>
                                    <param id="2" name="End index">number_quantidade_questoes_rodada</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="2" name="Set at X" sid="938189014572405" type="array_questoes">
                                    <param id="0" name="X">i</param>
                                    <param id="1" name="Value">tokenat(AJAX.LastData, i, &quot;|&quot;)</param>
                                </action>
                                <action id="-10" name="Add to" sid="412877042778397" type="System">
                                    <param id="0" name="Variable">i</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="171888185353773">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Call function" sid="584110152590795" type="Function">
                                            <param id="0" name="Name">&quot;pegaQuestaoAleatoria&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="291900829548894" title="Checa Respostas">
            <sub-events>
                <event-block sid="917737217597947">
                    <conditions>
                        <condition id="3" name="On touched object" sid="510416794684842" type="Touch">
                            <param id="0" name="Object">text_alternativa1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="188929160097281" type="Function">
                            <param id="0" name="Name">&quot;checarResposta&quot;</param>
                            <param id="1" name="Parameter {n}">text_alternativa1.Text</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="934199218150053">
                    <conditions>
                        <condition id="3" name="On touched object" sid="420447564402620" type="Touch">
                            <param id="0" name="Object">text_alternativa2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="334325850923990" type="Function">
                            <param id="0" name="Name">&quot;checarResposta&quot;</param>
                            <param id="1" name="Parameter {n}">text_alternativa2.Text</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="289476880368945">
                    <conditions>
                        <condition id="3" name="On touched object" sid="456506931239233" type="Touch">
                            <param id="0" name="Object">text_alternativa3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="418892562891332" type="Function">
                            <param id="0" name="Name">&quot;checarResposta&quot;</param>
                            <param id="1" name="Parameter {n}">text_alternativa3.Text</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="101553453335846">
                    <conditions>
                        <condition id="0" name="On function" sid="961817870916989" type="Function">
                            <param id="0" name="Name">&quot;checarResposta&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="492427405365023" type="text_feedback_resposta">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="764320345453495">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="629688104085427" type="System">
                                    <param id="0" name="Variable">text_resposta_atual</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="402180581744889" type="text_feedback_resposta">
                                    <param id="0" name="Text">&quot;correto&quot;</param>
                                </action>
                                <action id="-10" name="Add to" sid="812698815475235" type="System">
                                    <param id="0" name="Variable">number_pontuacao</param>
                                    <param id="1" name="Value">number_valor_questao</param>
                                </action>
                                <action id="-10" name="Add to" sid="488225230604601" type="System">
                                    <param id="0" name="Variable">number_acertos</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Set text" sid="984674694125052" type="text_pontuacao">
                                    <param id="0" name="Text">number_pontuacao</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="240584112390008">
                            <conditions>
                                <condition id="-22" name="Else" sid="590282776597841" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="945524754146389" type="text_feedback_resposta">
                                    <param id="0" name="Text">&quot;incorreto&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="142388029528002">
                            <conditions />
                            <actions>
                                <action id="-16" name="Wait" sid="829814265630549" type="System">
                                    <param id="0" name="Seconds">0</param>
                                </action>
                                <action id="-15" name="Set visible" sid="783541869348443" type="text_feedback_resposta">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                                <action id="9" name="Delete" sid="807830340817421" type="array_questoes">
                                    <param id="0" name="Index">number_valor_aleatorio</param>
                                    <param id="1" name="Axis">0</param>
                                </action>
                                <action id="-11" name="Subtract from" sid="601723637186310" type="System">
                                    <param id="0" name="Variable">number_quantidade_questoes_rodada</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="271725204835654">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="526177916271258" type="System">
                                            <param id="0" name="Variable">number_quantidade_questoes_rodada</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="188447819153026" type="System">
                                            <param id="0" name="Variable">number_questao_atual</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="0" name="Set text" sid="843678192614511" type="text_num_questao">
                                            <param id="0" name="Text">number_questao_atual</param>
                                        </action>
                                        <action id="0" name="Call function" sid="454182017079336" type="Function">
                                            <param id="0" name="Name">&quot;pegaQuestaoAleatoria&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="844584239150194">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="688051386418374" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="5" name="Push" sid="127050525559912" type="array_informacao_jogadores">
                                            <param id="0" name="Where">1</param>
                                            <param id="1" name="Value">number_pontuacao</param>
                                            <param id="2" name="Axis">0</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="655281482226373" type="array_informacao_jogadores">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Y">1</param>
                                            <param id="2" name="Value">text_nome_player</param>
                                        </action>
                                        <action id="-10" name="Add to" sid="412087243367274" type="System">
                                            <param id="0" name="Variable">number_quantidade_partidas</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-2" name="Go to layout" sid="756922874838228" type="System">
                                            <param id="0" name="Layout">GameOver</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="244229788878268" title="Tempo">
            <sub-events>
                <event-block sid="170659381110101">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="690755808394860" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="798574366719948" type="text_tempo">
                            <param id="0" name="Instance variable">number_segundo</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="411519507264034">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="523556628783285" type="text_tempo">
                            <param id="0" name="Instance variable">number_segundo</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">60</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="399607511712655" type="text_tempo">
                            <param id="0" name="Instance variable">number_minuto</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="989136084493614" type="text_tempo">
                            <param id="0" name="Instance variable">number_segundo</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="297224989204428">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="933116226275173" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="121599221721568" type="text_tempo">
                            <param id="0" name="Text">text_tempo.number_minuto&amp;&quot;min &quot; &amp;text_tempo.number_segundo&amp;&quot;seg&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="821661874683190">
            <conditions>
                <condition id="0" name="On function" sid="741961673481656" type="Function">
                    <param id="0" name="Name">&quot;resetaVariaveis&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="819565672262929" type="System">
                    <param id="0" name="Variable">number_questao_atual</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-9" name="Set value" sid="791514153276482" type="System">
                    <param id="0" name="Variable">number_pontuacao</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="-9" name="Set value" sid="812701916194319" type="System">
                    <param id="0" name="Variable">number_quantidade_questoes_rodada</param>
                    <param id="1" name="Value">NUMBER_QUANTIDADE_FIXA_QUESTOES</param>
                </action>
                <action id="-9" name="Set value" sid="885561580750959" type="System">
                    <param id="0" name="Variable">number_acertos</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
